#N canvas 4055 143 764 723 12;
#X declare -stdpath ./;
#N canvas 0 0 450 300 (subpatch) 0;
#X array E01-signal 882 float 0 black black;
#X coords 0 10 881 -10 200 130 1;
#X restore 460 67 graph;
#N canvas 1495 518 450 300 (subpatch) 0;
#X array E01-spectrum 128 float 0 black black;
#X coords 0 4300 127 -40 257 130 1;
#X restore 416 256 graph;
#N canvas 436 82 525 608 fft 1;
#X obj 45 77 inlet~;
#X obj 111 229 inlet;
#X obj 45 107 rfft~;
#X obj 45 140 *~;
#X obj 76 140 *~;
#X obj 45 170 sqrt~;
#X obj 111 263 tabwrite~ E01-spectrum;
#X obj 332 109 block~ 4096 1;
#X obj 45 196 biquad~ 0 0 0 0 1;
#X text 109 108 Fourier series;
#X text 114 161 magnitude;
#X text 112 146 calculate;
#X text 38 9 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 109 77 signal to analyze;
#X text 181 188 delay two samples;
#X text 180 204 for better graphing;
#X obj 106 433 samplerate~;
#X obj 106 410 bng 18 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000
#000000;
#X floatatom 106 480 5 0 0 0 - - -, f 5;
#X obj 106 456 / 256;
#X obj 106 386 loadbang;
#X floatatom 106 549 5 0 0 0 - - -, f 5;
#X obj 114 502 s fundamental;
#X obj 106 525 ftom;
#X text 31 314 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256., f 62;
#X text 161 231 "bang" into this inlet to graph it;
#X text 148 549 <= just out of curiosity \, here's the pitch;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 8 0 6 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 18 0 22 0;
#X connect 18 0 23 0;
#X connect 19 0 18 0;
#X connect 20 0 17 0;
#X connect 23 0 21 0;
#X restore 146 342 pd fft;
#X text 480 199 ---- 0.02 seconds ----;
#X obj 206 342 tabwrite~ E01-signal;
#X text 447 389 1;
#X text 481 389 2;
#X text 513 389 3;
#X text 545 389 4;
#X text 578 389 5;
#X text 608 389 6;
#X text 639 389 7;
#X text 415 389 0;
#X text 462 408 -- partial number --;
#X text 662 123 0;
#X obj 134 56 r fundamental;
#X obj 48 170 osc~;
#X obj 48 220 *~;
#X obj 91 170 osc~;
#X obj 91 220 *~;
#X obj 134 170 osc~;
#X obj 134 220 *~;
#X obj 134 95 * 2;
#X obj 177 170 osc~;
#X obj 177 220 *~;
#X obj 220 170 osc~;
#X obj 220 220 *~;
#X obj 263 170 osc~;
#X obj 263 220 *~;
#X obj 48 95 * 0;
#X obj 91 95 * 1;
#X obj 177 95 * 3;
#X obj 220 95 * 4;
#X obj 263 95 * 5;
#X text 391 105 WAVEFORM;
#X text 509 217 SPECTRUM;
#X text 676 374 0;
#X text 674 253 1;
#X text 675 312 0.5;
#X obj 134 281 *~ 1;
#X text 174 280 sum;
#X text 57 11 GRAPHING SPECTRA OF AUDIO SIGNALS;
#X obj 457 13 declare -stdpath ./;
#X obj 66 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000 #000000
0 1;
#X obj 109 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 1 1;
#X obj 152 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 1 1;
#X obj 195 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 1 1;
#X obj 238 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 0 1;
#X obj 281 195 tgl 18 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 0 1;
#X obj 302 241 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 243 281 metro 100;
#X text 662 63 10;
#X text 663 183 -10;
#X connect 15 0 29 0;
#X connect 15 0 30 0;
#X connect 15 0 22 0;
#X connect 15 0 31 0;
#X connect 15 0 32 0;
#X connect 15 0 33 0;
#X connect 16 0 17 0;
#X connect 17 0 39 0;
#X connect 18 0 19 0;
#X connect 19 0 39 0;
#X connect 20 0 21 0;
#X connect 21 0 39 0;
#X connect 22 0 20 0;
#X connect 23 0 24 0;
#X connect 24 0 39 0;
#X connect 25 0 26 0;
#X connect 26 0 39 0;
#X connect 27 0 28 0;
#X connect 28 0 39 0;
#X connect 29 0 16 0;
#X connect 30 0 18 0;
#X connect 31 0 23 0;
#X connect 32 0 25 0;
#X connect 33 0 27 0;
#X connect 39 0 2 0;
#X connect 39 0 4 0;
#X connect 43 0 17 1;
#X connect 44 0 19 1;
#X connect 45 0 21 1;
#X connect 46 0 24 1;
#X connect 47 0 26 1;
#X connect 48 0 28 1;
#X connect 49 0 50 0;
#X connect 50 0 4 0;
#X connect 50 0 2 1;
